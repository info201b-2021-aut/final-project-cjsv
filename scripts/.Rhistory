state_highest_case <- states_grouped %>%
filter(cases == max(cases)) %>%
pull(max(state))
state_highest_case <- states_grouped %>%
filter(states, cases == max(cases)) %>%
# What is the highest number of cases in a state?
# `num_highest_state`
num_highest_state <-
state_highest_case <- states_grouped %>%
filter(states, cases == max(cases)) %>%
state_highest_case <- states_grouped %>%
filter(cases == max(cases)) %>%
state_highest_case
state_highest_case <- states_grouped %>%
filter(cases == max(cases))
View(state_highest_case)
state_highest_case <- states_grouped %>%
filter(cases == max(cases)) %>%
filter(max(cases) == max(max(cases))
state_highest_case <- states_grouped %>%
filter(cases == max(cases)) %>%
filter(max(cases) == max(max(cases)))
state_highest_case <- states_grouped %>%
filter(cases == max(cases)) %>%
filter(max(cases) == max(max(cases))),
# What is the highest number of cases in a state?
# `num_highest_state`
num_highest_state <-
state_highest_case <- states_grouped %>%
filter(cases == max(cases)) %>%
filter(max(cases) == max(max(cases))),
state_highest_case <- states_grouped %>%
filter(date == min(date)))
state_highest_case <- states_grouped %>%
filter(date == min(date))
View(state_highest_case)
View(state_highest_case)
state_highest_case <- states_grouped %>%
filter(date == max(date))
state_highest_case <- states_grouped %>%
filter(date == max(date)) %>%
filter(cases == max(cases))
View(state_highest_case)
View(state_highest_case)
state_highest_case <- states_grouped %>%
filter(date == max(date)) %>%
filter(cases == max(cases)) %>%
pull(state)
state_highest_case
state_highest_case <- states_grouped %>%
filter(date == max(date)) %>%
filter(state, cases == max(cases)) %>%
# What is the highest number of cases in a state?
# `num_highest_state`
num_highest_state <-
state_highest_case <- states_grouped %>%
filter(date == max(date)) %>%
filter(state, cases == max(cases)) %>%
state_highest_case <- states_grouped %>%
filter(date == max(date)) %>%
filter(state, cases == max(cases))
state_highest_case <- states_grouped %>%
filter(date == max(date)) %>%
filter(cases == max(cases)) %>%
select(state)
View(state_highest_case)
View(state_highest_case)
state_highest_case <- states_grouped %>%
filter(date == max(date)) %>%
filter(cases == max(cases)) %>%
pull(state)
state_highest_case <- states %>%
filter(date == max(date)) %>%
filter(cases == max(cases)) %>%
state_highest_case <- states %>%
filter(date == max(date)) %>%
filter(cases == max(cases)) %>%
# Load the *state level* data into a variable. `states`
states <- read.csv("https://raw.githubusercontent.com/nytimes/covid-19-data/master/us-states.csv")
library(dplyr)
num_feature_states <- ncol(states)
obs_states <- nrow(states)
state_highest_case <- states %>%
filter(date == max(date)) %>%
filter(cases == max(cases))
View(state_highest_case)
View(state_highest_case)
state_highest_case <- states %>%
filter(date == max(date)) %>%
filter(cases == max(cases)) %>%
select(state)
state_highest_case
state_highest_case <- pull(filter(states_grouped, cases == max(cases), state)
state_highest_case <- states %>%
filter(date == max(date)) %>%
filter(cases == max(cases)) %>%
pull(state)
state_highest_case <- states %>%
filter(date == max(date)) %>%
filter(cases == max(cases)) %>%
pull(state)
state_highest_case
# What is the highest number of cases in a state?
# `num_highest_state`
num_highest_state <- states %>%
filter(date == max(date)) %>%
filter(cases == max(cases)) %>%
pull(cases)
# Which state has the highest ratio of deaths to cases (deaths/cases), as of the
# most recent date? `state_highest_ratio`
# (hint: you may need to create a new column in order to do this!)
state_highest_ratio <- states %>%
mutate(deaths / cases)
View(state_highest_ratio)
View(state_highest_ratio)
state_highest_ratio <- states %>%
mutate(deaths / cases) %>%
filter(date == max(date))
state_highest_ratio <- states %>%
mutate(deaths / cases) %>%
filter(date == max(date)) %>%
filter(deaths/cases == max(death/cases)) %>%
pull(state)
state_highest_ratio <- states %>%
mutate(deaths / cases) %>%
filter(date == max(date)) %>%
filter(deaths/cases == max(deaths/cases)) %>%
pull(state)
state_highest_ratio
View(states_grouped)
# Which state has had the lowest number of cases *as of the most recent date*?
# (hint, this is a little trickier to calculate than the maximum because
# of the meaning of the row). `state_lowest_cases`
state_lowest_cases <- states %>%
group_by(state)
state_lowest_cases <- states %>%
group_by(state) %>%
filter(cases == min(cases))
View(national)
View(national)
View(state_lowest_cases)
View(state_lowest_cases)
state_lowest_cases <- states %>%
group_by(state) %>%
filter(date == max(date))
state_lowest_cases <- states %>%
group_by(state) %>%
filter(date == max(date)) %>%
filter(cases == min(cases))
state_lowest_cases <- states %>%
group_by(state) %>%
filter(date == max(date)) %>%
filter(cases == min(cases))
state_lowest_cases <- states %>%
group_by(state) %>%
filter(date == max(date)) %>%
select(cases == min(cases))
state_lowest_cases <- states %>%
filter(date == max(date)) %>%
filter(cases == min(cases))
state_lowest_cases <- states %>%
filter(date == max(date)) %>%
filter(cases == min(cases)) %>%
pull(state)
# Load the *county level* data into a variable. `counties`
# (this is a large dataset, which may take ~30 seconds to load)
counties <- read.csv("https://raw.githubusercontent.com/nytimes/covid-19-data/master/us-counties.csv")
obs_counties <- nrow(counties)
num_features_counties <- ncol(counties)
View(counties)
View(counties)
View(counties)
# Which county has had the highest number of cases?
# `county_highest_cases`
county_highest_cases <- counties %>%
filter(date == max(date)) %>%
filter(cases == max(cases)) %>%
select(county)
county_highest_cases
county_highest_cases <- counties %>%
filter(date == max(date)) %>%
filter(cases == max(cases)) %>%
select(cases)
num_highest_cases_county <- counties %>%
filter(date == max(date)) %>%
filter(cases == max(cases)) %>%
select(cases)
county_highest_cases <- counties %>%
filter(date == max(date)) %>%
filter(cases == max(cases)) %>%
select(county)
View(county_highest_cases)
View(county_highest_cases)
View(num_highest_cases_county)
View(national)
county_highest_cases <- counties %>%
filter(date == max(date)) %>%
filter(cases == max(cases)) %>%
pull(county)
num_highest_cases_county <- counties %>%
filter(date == max(date)) %>%
filter(cases == max(cases)) %>%
pull(cases)
num_highest_cases_county
county_highest_cases
# Because there are multiple counties with the same name across states, it
# will be helpful to have a column that stores the county and state together
# (in the form "COUNTY, STATE").
# Add a new column to your `counties` data frame called `location`
# that stores the county and state (separated by a comma and space).
# You can do this by mutating a new column, or using the `unite()` function
# (just make sure to keep the original columns as well)
location <- counties %>%
mutate("county, state")
View(location)
View(location)
location <- counties %>%
mutate(county, state)
location <- counties %>%
mutate(county, state)
location <- counties %>%
unite(county, state)
# Load the tidyverse package
library(tidyverse)
library(dplyr)
location <- counties %>%
unite(county, state)
location <- counties %>%
mutate(county, state)
location <- counties %>%
mutate("county", "state")
location <- counties %>%
mutate("county, state" == county, state)
# Because there are multiple counties with the same name across states, it
# will be helpful to have a column that stores the county and state together
# (in the form "COUNTY, STATE").
# Add a new column to your `counties` data frame called `location`
# that stores the county and state (separated by a comma and space).
# You can do this by mutating a new column, or using the `unite()` function
# (just make sure to keep the original columns as well)
location <- counties %>%
mutate(countystate == county, state)
# Because there are multiple counties with the same name across states, it
# will be helpful to have a column that stores the county and state together
# (in the form "COUNTY, STATE").
# Add a new column to your `counties` data frame called `location`
# that stores the county and state (separated by a comma and space).
# You can do this by mutating a new column, or using the `unite()` function
# (just make sure to keep the original columns as well)
location <- counties %>%
mutate("county, state")
# Because there are multiple counties with the same name across states, it
# will be helpful to have a column that stores the county and state together
# (in the form "COUNTY, STATE").
# Add a new column to your `counties` data frame called `location`
# that stores the county and state (separated by a comma and space).
# You can do this by mutating a new column, or using the `unite()` function
# (just make sure to keep the original columns as well)
location <- counties %>%
mutate(county, state)
# Because there are multiple counties with the same name across states, it
# will be helpful to have a column that stores the county and state together
# (in the form "COUNTY, STATE").
# Add a new column to your `counties` data frame called `location`
# that stores the county and state (separated by a comma and space).
# You can do this by mutating a new column, or using the `unite()` function
# (just make sure to keep the original columns as well)
location <- counties %>%
mutate("county, state")
# Because there are multiple counties with the same name across states, it
# will be helpful to have a column that stores the county and state together
# (in the form "COUNTY, STATE").
# Add a new column to your `counties` data frame called `location`
# that stores the county and state (separated by a comma and space).
# You can do this by mutating a new column, or using the `unite()` function
# (just make sure to keep the original columns as well)
location <- counties %>%
mutate(county, state)
# Because there are multiple counties with the same name across states, it
# will be helpful to have a column that stores the county and state together
# (in the form "COUNTY, STATE").
# Add a new column to your `counties` data frame called `location`
# that stores the county and state (separated by a comma and space).
# You can do this by mutating a new column, or using the `unite()` function
# (just make sure to keep the original columns as well)
location <- counties %>%
mutate(county:state)
# Because there are multiple counties with the same name across states, it
# will be helpful to have a column that stores the county and state together
# (in the form "COUNTY, STATE").
# Add a new column to your `counties` data frame called `location`
# that stores the county and state (separated by a comma and space).
# You can do this by mutating a new column, or using the `unite()` function
# (just make sure to keep the original columns as well)
location <- counties %>%
unite(county:state)
# Because there are multiple counties with the same name across states, it
# will be helpful to have a column that stores the county and state together
# (in the form "COUNTY, STATE").
# Add a new column to your `counties` data frame called `location`
# that stores the county and state (separated by a comma and space).
# You can do this by mutating a new column, or using the `unite()` function
# (just make sure to keep the original columns as well)
location <- counties %>%
unite(county, state)
# Because there are multiple counties with the same name across states, it
# will be helpful to have a column that stores the county and state together
# (in the form "COUNTY, STATE").
# Add a new column to your `counties` data frame called `location`
# that stores the county and state (separated by a comma and space).
# You can do this by mutating a new column, or using the `unite()` function
# (just make sure to keep the original columns as well)
location <- counties %>%
unite("county, state", county:state)
# Because there are multiple counties with the same name across states, it
# will be helpful to have a column that stores the county and state together
# (in the form "COUNTY, STATE").
# Add a new column to your `counties` data frame called `location`
# that stores the county and state (separated by a comma and space).
# You can do this by mutating a new column, or using the `unite()` function
# (just make sure to keep the original columns as well)
location <- counties %>%
mutate("county, state", county:state)
location <- counties %>%
mutate("county, state", county:state)
# Because there are multiple counties with the same name across states, it
# will be helpful to have a column that stores the county and state together
# (in the form "COUNTY, STATE").
# Add a new column to your `counties` data frame called `location`
# that stores the county and state (separated by a comma and space).
# You can do this by mutating a new column, or using the `unite()` function
# (just make sure to keep the original columns as well)
location <- counties %>%
mutate("county, state", county, state)
# Because there are multiple counties with the same name across states, it
# will be helpful to have a column that stores the county and state together
# (in the form "COUNTY, STATE").
# Add a new column to your `counties` data frame called `location`
# that stores the county and state (separated by a comma and space).
# You can do this by mutating a new column, or using the `unite()` function
# (just make sure to keep the original columns as well)
location <- counties %>%
mutate(county, state, county, state)
# Because there are multiple counties with the same name across states, it
# will be helpful to have a column that stores the county and state together
# (in the form "COUNTY, STATE").
# Add a new column to your `counties` data frame called `location`
# that stores the county and state (separated by a comma and space).
# You can do this by mutating a new column, or using the `unite()` function
# (just make sure to keep the original columns as well)
location <- counties %>%
unite("county, state", county:state, remove = FALSE)
unite("county, state", county, state, remove = FALSE)
location <- counties %>%
unite("county, state", remove = FALSE)
location <- counties %>%
unite("county, state", remove = FALSE)
rm(location)
rm(location)
location <- counties %>%
unite("county, state", remove = FALSE)
location
View(location)
View(location)
location <- counties %>%
unite("county, state", county, state, remove = FALSE)
View(location)
location <- counties %>%
unite("county, state", county, state)
# Because there are multiple counties with the same name across states, it
# will be helpful to have a column that stores the county and state together
# (in the form "COUNTY, STATE").
# Add a new column to your `counties` data frame called `location`
# that stores the county and state (separated by a comma and space).
# You can do this by mutating a new column, or using the `unite()` function
# (just make sure to keep the original columns as well)
location <- counties %>%
mutate(county, state, remove = FALSE)
# Because there are multiple counties with the same name across states, it
# will be helpful to have a column that stores the county and state together
# (in the form "COUNTY, STATE").
# Add a new column to your `counties` data frame called `location`
# that stores the county and state (separated by a comma and space).
# You can do this by mutating a new column, or using the `unite()` function
# (just make sure to keep the original columns as well)
location <- counties %>%
mutate(county_state = county, state)
# Because there are multiple counties with the same name across states, it
# will be helpful to have a column that stores the county and state together
# (in the form "COUNTY, STATE").
# Add a new column to your `counties` data frame called `location`
# that stores the county and state (separated by a comma and space).
# You can do this by mutating a new column, or using the `unite()` function
# (just make sure to keep the original columns as well)
location <- counties %>%
mutate(county_state = (county, state))
mutate(county_state = (county, state))
location <- counties %>%
mutate(county_state = (county_state))
location <- counties %>%
mutate(county_state = (county, state))
# Because there are multiple counties with the same name across states, it
# will be helpful to have a column that stores the county and state together
# (in the form "COUNTY, STATE").
# Add a new column to your `counties` data frame called `location`
# that stores the county and state (separated by a comma and space).
# You can do this by mutating a new column, or using the `unite()` function
# (just make sure to keep the original columns as well)
location <- counties %>%
select(county, state)
location <- counties %>%
select(county, state)
mutate(county_state)
location <- counties %>%
select(county, state)
mutate(county, state)
location <- counties %>%
mutate(county_state, county, state)
location <- counties %>%
mutate(county_state = county, state)
location <- counties %>%
mutate(county_state = county:state)
location <- counties %>%
mutate(county_state = county;state)
location <- counties %>%
mutate(county_state = county+state)
location <- counties %>%
mutate(county_state = county-state)
location <- counties %>%
mutate(county_state = county_state)
location <- counties %>%
unite("county, state" county:state, remove = FALSE)
location <- counties %>%
unite("county, state", county:state, remove = FALSE)
location <- counties %>%
unite("county, state", county:state, remove = FALSE) %>%
str_replace_all("county, state", "_", ", ")
# Because there are multiple counties with the same name across states, it
# will be helpful to have a column that stores the county and state together
# (in the form "COUNTY, STATE").
# Add a new column to your `counties` data frame called `location`
# that stores the county and state (separated by a comma and space).
# You can do this by mutating a new column, or using the `unite()` function
# (just make sure to keep the original columns as well)
location <- counties %>%
unite("county, state", county:state, remove = FALSE) %>%
replace("county, state", "_", ", ")
location <- counties %>%
unite("county, state", county:state, remove = FALSE) %>%
str_replace_all("_", ", ", county, state)
str_replace_all("_", ", ", "county, state")
# Because there are multiple counties with the same name across states, it
# will be helpful to have a column that stores the county and state together
# (in the form "COUNTY, STATE").
# Add a new column to your `counties` data frame called `location`
# that stores the county and state (separated by a comma and space).
# You can do this by mutating a new column, or using the `unite()` function
# (just make sure to keep the original columns as well)
location <- counties %>%
unite("county, state", county:state, remove = FALSE) %>%
str_replace_all("_", ", ")
library(tidyverse)
library(dplyr)
# Load the *county level* data into a variable. `counties`
# (this is a large dataset, which may take ~30 seconds to load)
counties <- read.csv("https://raw.githubusercontent.com/nytimes/covid-19-data/master/us-counties.csv")
location <- counties %>%
unite("county, state", county:state, remove = FALSE) %>%
gsub("_", ", ")
library(dplyr)
library(knitr)
```{r setup, include=FALSE}
library("knitr")
library("dpylr")
ggplot(data = species_state_table) +
geom_col(mapping = aes(x = state, y = native_species_prop))
library(ggplot2)
library(tidyverse)
library("dplyr")
ggplot(data = species_state_table) +
geom_col(mapping = aes(x = state, y = native_species_prop))
source("~/final-project-cindyte/scripts/chart_1.R")
setwd("~/final-project-cindyte/scripts")
setwd("C:/Users/zhang/Documents/INFO201/final-project-cjsv/scripts")
source("~/final-project-cindyte/scripts/chart_1.R")
source("~/final-project-cindyte/scripts/chart_1.R")
num_native_species <- speciesandparks %>%
group_by(state) %>%
#filter(nativeness == "Native") %>%
summarise(native_sum = sum(nativeness == "Native"))
speciesandparks <- left_join(species, parks, by = "park_name")
num_native_species <- speciesandparks %>%
group_by(state) %>%
#filter(nativeness == "Native") %>%
summarise(native_sum = sum(nativeness == "Native"))
num_species_state <- speciesandparks %>%
group_by(state) %>%
summarise(species_sum = length(nativeness))
species_state_table <- merge(num_native_species, num_species_state)
species_state_table <- species_state_table %>%
mutate(native_species_prop = native_sum / species_sum)
return(ggplot(data = species_state_table) +
geom_col(mapping = aes(x = state, y = native_species_prop))
)
num_species_state <- speciesandparks %>%
group_by(state) %>%
summarise(species_sum = length(nativeness))
ggplot(data = species_state_table) +
geom_col(mapping = aes(x = state, y = native_species_prop))
ggplot(data = species_state_table) +
geom_col(mapping = aes(x = state, y = native_species_prop)) +
labs(title = "Percentage of Native Species by State")
